import json

def load_config():
    try:
        with open('config.json', 'r') as f:
            return json.load(f)
    except FileNotFoundError:
        return {}

def extract_article(url):
    # Send GET request to URL
    response = requests.get(url)

    # If the GET request is successful, the status code will be 200
    if response.status_code == 200:
        # Get content from response and parse it with BeautifulSoup
        soup = BeautifulSoup(response.content, 'html.parser')

        # Find how-to articles
        articles = soup.find_all('article', class_='howto-article')

        return [a.get_text() for a in articles]

def save_articles_txt(articles):
    for i, article in enumerate(articles):
        with open(f"output_{i}.txt", "w") as f:
            f.write(article)

if __name__ == "__main__":
    config = load_config()
    url = input("Enter URL (or press Enter to use from config): ") or config.get('url', 'https://example.com')
    print(f"Using URL: {url}")

    # Run command to extract articles and save as text files
    articles = extract_article(url)
    save_articles_txt(articles)